(()=>{"use strict";$(document).ready((function(){function t(){const t='<tr><td class="text-center ">'+$("#realEstateTable tbody tr").length+'</td><td><input type="text" class="form-control id"></td><td><input type="number" class="form-control price"></td><td><select class="form-control city" multiple="multiple"></select></td><td><select class="form-control type" multiple="multiple"></select></td><td class="w-25 flex-row gap-5"><button class="btn btn-danger deleteBtn mx-2">Delete</button><button class="btn btn-primary copyBtn">Copy</button></td></tr>';$("#realEstateTable tbody").append(t)}function e(t,e){const n=$(e).val();"1"===n[0]&&(confirm("Are you sure you want to edit all values in the "+t+" column?")?($("#realEstateTable tbody tr:not(:first)").each((function(){$(this).find("."+t).val(n).trigger("change")})),$(e).val("").trigger("change")):$(e).val("").trigger("change"))}$.ajax({url:"../files/mockDataCities.json",type:"GET",success:function(t){const e=t.map((function(t){return'<option value="'+t.id+'">'+t.city+"</option>"}));$(".city").html(e),$(".city").select2(),$("#realEstateTable tbody").on("focus","tr:last .city",(function(){$(this).select2({data:t.map((function(t){return{id:t.id,text:t.city}}))})}))}}),$.ajax({url:"../files/mockDataTypes.json",type:"GET",success:function(t){const e=t.map((function(t){return'<option value="'+t.id+'">'+t.type+"</option>"}));$(".type").html(e),$(".type").select2(),$("#realEstateTable tbody").on("focus","tr:last .type",(function(){$(this).select2({data:t.map((function(t){return{id:t.id,text:t.type}}))})}))}}),$("#addRowBtn").on("click",(function(){t()})),$(document).on("click",".deleteBtn",(function(){$(this).closest("tr").remove(),$("#realEstateTable tbody tr").each((function(t){$(this).find("td:first").text(t+1)}))})),$(document).on("click",".copyBtn",(function(){$(this).closest("tr"),t()})),$("#saveAllBtn").on("click",(function(){const t=[];$("#realEstateTable tbody tr").each((function(){const e=$(this).find(".id").val();if(t.includes(e))return alert("ID must be unique!"),!1;t.push(e)})),alert("Data saved successfully!")})),$("#realEstateTable tbody").on("change","tr:first .price",(function(){!function(t,e){const n=$(e).val();2e5==n&&function(t,e,n){confirm("Are you sure you want to edit all values in the price column?")?($("#realEstateTable tbody tr:not(:first)").each((function(){$(this).find("."+t).val(e)})),$(n).val("")):$(n).val(e)}("price",n,e)}(0,this)})),$("#realEstateTable tbody").on("change","tr:first .city",(function(){e("city",this)})),$("#realEstateTable tbody").on("change","tr:first .type",(function(){e("type",this)}))}))})();